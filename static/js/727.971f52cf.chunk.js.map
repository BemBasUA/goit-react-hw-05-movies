{"version":3,"file":"static/js/727.971f52cf.chunk.js","mappings":"sKAAO,IAAMA,EAAU,kC,8ICGvB,aAAO,OAAP,oBAAO,WAAyBC,GAAzB,iFACQC,EAAAA,GAAAA,IACNA,EAAAA,GAAAA,SAAAA,QAAyB,eAAgB,CAC5CC,OAAQ,CACNC,QAASJ,EAAAA,EACTK,MAAOJ,KAGVK,MAAK,SAAAC,GAAM,OAAIA,EAAOC,KAAKC,OAAhB,IART,0G,aCFP,EAAwB,sBAAxB,EAAuD,uBAAvD,EAAqF,qB,SCqDrF,EAhDe,WAAO,IAAD,EACnB,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOH,EAAP,KAAeI,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMT,EAAK,UAAGQ,EAAaE,IAAI,gBAApB,QAAgC,GACrCC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACJb,GFVD,SAAP,kCEWMc,CAAUd,GAAOC,MAAK,SAAAC,GAAM,OAAII,EAAUJ,EAAd,GAE/B,GAAE,CAACF,IAQJ,OACE,iCACE,kBAAMe,SARW,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAQF,EAAEG,OAAOC,SAASC,KAAKH,MACrCT,EAA0B,KAAVS,EAAe,CAAElB,MAAOkB,GAAU,GACnD,EAIG,WACE,kBACEI,UAAWC,EACXC,aAAcxB,EACdJ,KAAK,OACL6B,KAAK,UAEP,mBAAQH,UAAWC,EAAYE,KAAK,SAApC,uBAIDvB,EAAOwB,KAAI,SAAAC,GACV,OACE,SAAC,KAAD,CACEL,UAAWC,EACXK,GAAE,UAAKD,EAAME,IAEbC,MAAO,CAAEC,QAAS,SAClBC,MAAO,CAAEC,KAAMtB,GALjB,SAOGgB,EAAM/B,MAAQ+B,EAAMO,OAJhBP,EAAME,GAOhB,MAGN,C","sources":["assets/API_KEY.js","utils/getByName.js","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["export const API_KEY = 'd7682ca325a3faf9378f6270ac4d001d';\n","import axios from 'axios';\nimport { API_KEY } from 'assets/API_KEY';\n\nexport async function getByName(name) {\n  return await axios\n    .get(axios.defaults.baseURL + 'search/movie', {\n      params: {\n        api_key: API_KEY,\n        query: name,\n      },\n    })\n    .then(movies => movies.data.results);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Movies_input__KrUqs\",\"button\":\"Movies_button__GcIka\",\"link\":\"Movies_link__MzAfU\"};","import { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getByName } from 'utils/getByName';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const location = useLocation();\n\n  useEffect(() => {\n    if (query) {\n      getByName(query).then(movies => setMovies(movies));\n    }\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const value = e.target.elements.text.value;\n    setSearchParams(value !== '' ? { query: value } : '');\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input\n          className={css.input}\n          defaultValue={query}\n          name=\"text\"\n          type=\"text\"\n        />\n        <button className={css.button} type=\"submit\">\n          search\n        </button>\n      </form>\n      {movies.map(movie => {\n        return (\n          <Link\n            className={css.link}\n            to={`${movie.id}`}\n            key={movie.id}\n            style={{ display: 'block' }}\n            state={{ from: location }}\n          >\n            {movie.name || movie.title}\n          </Link>\n        );\n      })}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["API_KEY","name","axios","params","api_key","query","then","movies","data","results","useState","setMovies","useSearchParams","searchParams","setSearchParams","get","location","useLocation","useEffect","getByName","onSubmit","e","preventDefault","value","target","elements","text","className","css","defaultValue","type","map","movie","to","id","style","display","state","from","title"],"sourceRoot":""}